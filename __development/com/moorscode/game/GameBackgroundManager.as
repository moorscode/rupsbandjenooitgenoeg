package com.moorscode.game {	import flash.display.Bitmap;		import com.moorscode.game.GameCamera;	import com.moorscode.game.IGameObject;		public class GameBackgroundManager extends IGameObject {		private var tileWidth:Number = 0;		private var tileHeight:Number = 0;		private var bgTiles:Array = new Array();				function GameBackgroundManager():void {			var tile:Bitmap = getBitmap("backgroundTile");						tileWidth 	= tile.width;			tileHeight 	= tile.height;			//tile = null;						var xSpread:Number = Math.ceil(GameCamera.width / tileWidth);			var ySpread:Number = Math.ceil(GameCamera.height / tileHeight);						for(var tileX:int = 0; tileX <= xSpread; tileX++) {				for(var tileY:int = 0; tileY <= ySpread; tileY++) {										bgTiles.push(new Bitmap(tile.bitmapData));					bgTiles[bgTiles.length-1].x = (tileX * tileWidth);					bgTiles[bgTiles.length-1].y = (tileY * tileHeight);					addChild(bgTiles[bgTiles.length-1]);				}			}						updateGrid();		}				private function updateGrid():void {			var centerX:Number = GameCamera.x + (GameCamera.width / 2.0);			var centerY:Number = GameCamera.y + (GameCamera.height / 2.0);						x = (Math.round(centerX / tileWidth) * tileHeight) - (width / 2.0);			y = (Math.round(centerY / tileHeight) * tileHeight) - (height / 2.0);		}				override public function tick():void {			updateGrid();		}	}}